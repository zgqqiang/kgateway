package main

import (
	// Import all Envoy and Gloo filter types so they are registered and deserialization does
	// not fail when using them in the "typed_config" attributes.
	// The filter types are autogenerated by looking at all packages in go-control-plane and gloo
	// api extensions. As a result, this will need to be re-run when updating go-control-plane
	// or gloo extensions if new packages are added.
	_ "github.com/kgateway-dev/kgateway/v2/internal/envoyinit/hack/filter_types"
	"github.com/kgateway-dev/kgateway/v2/internal/envoyinit/pkg/runner"
)

func main() {
	envoyExecutable := runner.GetEnvoyExecutable()
	inputPath := runner.GetInputConfigPath()
	outputPath := runner.GetOutputConfigPath()

	runner.RunEnvoy(envoyExecutable, inputPath, outputPath)
}
